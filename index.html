<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Ê∏ÖËç∑ÂÆùÂÆùÂë®Â≤ÅÂ∫ÜÁ•ùÁ¶èÈ°µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffd1dc, #ffb6c1, #ffa07a);
            height: 100vh;
            overflow: hidden;
            position: relative;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .background-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .balloon {
            position: absolute;
            width: 40px;
            height: 50px;
            border-radius: 50%;
            animation: float 8s infinite ease-in-out;
        }
        
        .balloon:nth-child(1) {
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #d63031);
            top: 10%;
            left: 15%;
            animation-delay: 0s;
        }
        
        .balloon:nth-child(2) {
            background: radial-gradient(circle at 30% 30%, #fdcb6e, #e17055);
            top: 20%;
            right: 20%;
            animation-delay: 2s;
        }
        
        .balloon:nth-child(3) {
            background: radial-gradient(circle at 30% 30%, #74b9ff, #0984e3);
            bottom: 15%;
            left: 25%;
            animation-delay: 4s;
        }
        
        .balloon:nth-child(4) {
            background: radial-gradient(circle at 30% 30%, #55efc4, #00b894);
            bottom: 25%;
            right: 15%;
            animation-delay: 6s;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #f00;
            animation: fall 5s linear infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        .container {
            position: relative;
            z-index: 2;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            text-align: center;
            overflow: hidden;
        }
        
        .header {
            margin-bottom: 10px;
            animation: fadeInDown 1s ease-out;
        }
        
        h1 {
            color: #ffffff;
            font-size: clamp(1.6rem, 4vw, 2.2rem);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 5px;
        }
        
        .subtitle {
            color: #fff9c4;
            font-size: clamp(1rem, 2.5vw, 1.4rem);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .avatar-container {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            border: 6px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
            margin: 10px auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
            position: relative;
        }
        
        .avatar {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .age-badge {
            position: absolute;
            top: -12px;
            right: -12px;
            background: linear-gradient(45deg, #ff6b6b, #ff7675);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3em;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .music-control:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.1);
        }
        
        .music-icon {
            font-size: 1.5em;
            color: white;
        }
        
        .carousel-container {
            width: 90%;
            max-width: 400px;
            height: 220px;
            margin: 10px auto;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
            position: relative;
            animation: slideInUp 1s ease-out;
        }
        
        .carousel-item {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .carousel-item.active {
            opacity: 1;
        }
        
        .slide-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .slide-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: #000;
        }
        
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            cursor: pointer;
            opacity: 1;
            transition: opacity 0.3s;
        }
        
        .carousel-item.active .video-overlay {
            opacity: 0;
            pointer-events: none;
        }
        
        .play-button {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff6b6b;
            font-size: 1.8em;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .fullscreen-video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .fullscreen-video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .close-fullscreen {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 2em;
            cursor: pointer;
            z-index: 10001;
            background: rgba(0, 0, 0, 0.5);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .controls-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            margin: 10px 0;
        }
        
        .carousel-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background-color 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .nav-dot.active {
            background: #ffffff;
        }
        
        .carousel-controls {
            display: flex;
            gap: 12px;
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.2em;
            color: white;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.1);
        }
        
        .message-box {
            background: linear-gradient(135deg, #ffd1dc, #ffb6c1, #ffa07a);
            border-radius: 20px;
            padding: 18px;
            margin: 12px auto;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
            animation: fadeIn 1.5s ease-out;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
        }
        
        .message {
            font-size: clamp(0.85rem, 2.3vw, 1rem);
            color: #ffffff;
            line-height: 1.5;
            text-align: center;
            white-space: pre-line;
            max-height: 100px;
            overflow-y: auto;
        }
        
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 12px;
            width: 90%;
            max-width: 300px;
        }
        
        .button {
            background: linear-gradient(45deg, #ff6b6b, #ff7675);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: clamp(0.95rem, 2.8vw, 1.1rem);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.4);
        }
        
        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.6);
        }
        
        .hint {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .hint.show {
            opacity: 1;
        }
        
        .footer {
            position: absolute;
            bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.85em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        #audio-player {
            display: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body>
    <div class="background-elements">
        <div class="balloon"></div>
        <div class="balloon"></div>
        <div class="balloon"></div>
        <div class="balloon"></div>
        <div style="position:absolute;top:5%;left:5%;width:20px;height:5px;background:#ff6b6b;transform:rotate(15deg);animation:fall 6s linear infinite;"></div>
        <div style="position:absolute;top:15%;right:10%;width:15px;height:5px;background:#74b9ff;transform:rotate(-10deg);animation:fall 7s linear infinite;"></div>
        <div style="position:absolute;bottom:20%;left:20%;width:25px;height:5px;background:#55efc4;transform:rotate(5deg);animation:fall 8s linear infinite;"></div>
    </div>
    
    <audio id="audio-player" loop preload="auto">
        <source src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/%E7%88%B8%E7%88%B8%E7%9A%84%E7%AC%91%E5%AE%B9.mp3" type="audio/mpeg">
        ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÈü≥È¢ëÊí≠Êîæ
    </audio>
    
    <div class="music-control" id="music-control">
        <span class="music-icon" id="music-icon">üîá</span>
    </div>
    
    <div class="fullscreen-video-container" id="fullscreenContainer">
        <video class="fullscreen-video" id="fullscreenVideo" controls playsinline webkit-playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true"></video>
        <div class="close-fullscreen" onclick="closeFullscreen()">√ó</div>
    </div>
    
    <div class="hint" id="hint">ÁÇπÂáªÂè≥‰∏äËßíÈü≥Á¨¶ÂõæÊ†áÂºÄÂßãÊí≠ÊîæÈü≥‰πê</div>
    
    <div class="container">
        <div class="header">
            <h1>üéâ Ê∏ÖËç∑ÂÆùÂÆùÂë®Â≤ÅÂø´‰πêÔºÅüéÇ</h1>
            <div class="subtitle">Welcome to the Celebration</div>
        </div>
        
        <div class="avatar-container">
            <img src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20260104103120_26_210.jpg" 
                 alt="Ê∏ÖËç∑ÂÆùÂÆùÂ§¥ÂÉè" class="avatar">
            <div class="age-badge">1</div>
        </div>
        
        <div class="carousel-container">
            <div class="carousel-item active" data-type="image">
                <img src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20260104103120_26_210.jpg" 
                     alt="Ê∏ÖËç∑ÂÆùÂÆù1" class="slide-image">
            </div>
            
            <div class="carousel-item" data-type="video">
                <video class="slide-video" 
                       src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/1192483611.mp4" 
                       muted playsinline webkit-playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" loop></video>
                <div class="video-overlay" onclick="handleVideoClick(this)">
                    <div class="play-button">‚ñ∂</div>
                </div>
            </div>
            
            <div class="carousel-item" data-type="image">
                <img src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20260104110913_646_207.jpg" 
                     alt="Ê∏ÖËç∑ÂÆùÂÆù2" class="slide-image">
            </div>
            
            <div class="carousel-item" data-type="image">
                <img src="https://picture-lotus.oss-cn-shanghai.aliyuncs.com/%E6%B8%85%E8%8D%B7%E7%AC%91.jpg" 
                     alt="Ê∏ÖËç∑ÂÆùÂÆù3" class="slide-image">
            </div>
        </div>
        
        <div class="controls-container">
            <div class="carousel-nav">
                <span class="nav-dot active" onclick="currentSlide(0)"></span>
                <span class="nav-dot" onclick="currentSlide(1)"></span>
                <span class="nav-dot" onclick="currentSlide(2)"></span>
                <span class="nav-dot" onclick="currentSlide(3)"></span>
            </div>
            
            <div class="carousel-controls">
                <button class="control-btn" onclick="prevSlide()">‚Äπ</button>
                <button class="control-btn" onclick="nextSlide()">‚Ä∫</button>
            </div>
        </div>
        
        <div class="message-box">
            <div class="message" id="random-message">Ê¨¢ËøéÊù•Âà∞\nÊ∏ÖËç∑ÂÆùÂÆùÁöÑÂë®Â≤ÅÂ∫ÜÂÖ∏ÔºÅ\nÁ•ùÊÑøÂ∞èÂ§©‰ΩøÂÅ•Â∫∑Âø´‰πêÊàêÈïøÔºÅ</div>
        </div>
        
        <div class="action-buttons">
            <button class="button" onclick="generateNewMessage()">‚ú® Êç¢‰∏ÄÂè•Á•ùÁ¶è</button>
            <button class="button" style="background: linear-gradient(45deg, #74b9ff, #0984e3);" 
                    onclick="location.reload()">üîÑ Âà∑Êñ∞È°µÈù¢</button>
        </div>
        
        <div class="footer">
            <p>Âë®Â≤ÅÂ∫ÜÂÖ∏ ¬∑ 2026Âπ¥</p>
            <p>ÊÑøÊ∏ÖËç∑ÂÆùÂÆùÂÅ•Â∫∑Âø´‰πêÊàêÈïøÔºÅ</p>
        </div>
    </div>

    <script>
        // ÂÖ®Â±ÄÂèòÈáè
        let currentSlideIndex = 0;
        let items = null;
        let dots = null;
        let audio = null;
        let isPlaying = false;
        let autoPlayInterval = null;

        const messages = [
            "Ê¨¢ËøéÊù•Âà∞\nÊ∏ÖËç∑ÂÆùÂÆùÁöÑÂë®Â≤ÅÁ§ºÔºÅ\nÊÑøÂ∞èÂ§©‰ΩøÂÅ•Â∫∑Âø´‰πêÊàêÈïøÔºÅ",
            "Ê∏ÖËç∑ÂÆùÂÆù\nÂë®Â≤ÅÂø´‰πêÔºÅ\nÊÑüË∞¢ÊÇ®ÁöÑÂà∞Êù•Ôºå‰∏ÄËµ∑ËßÅËØÅËøôÁæéÂ•ΩÊó∂ÂàªÔºÅ",
            "Â∞èÂ∞è‰∫∫ÂÑø\n‰∏ÄÂ≤ÅÂï¶ÔºÅ\nÁ•ùÊ∏ÖËç∑ÂÆùÂÆùËÅ™Êòé‰º∂‰øêÔºåÂ§©Â§©ÂºÄÂøÉÔºÅ",
            "Âë®Â≤Å‰πãÂñú\nÂπ∏Á¶èÊª°Ê∫¢ÔºÅ\nÊ¨¢ËøéÂèÇÂä†Ê∏ÖËç∑ÂÆùÂÆùÁöÑÊàêÈïøÂ∫ÜÂÖ∏ÔºÅ",
            "Ê∏ÖËç∑ÂÆùÂÆù\nÊª°Âë®Â≤ÅÂï¶ÔºÅ\nÊÑøÂ•πÂÉèÂ∞èËä±‰∏ÄÊ†∑Áæé‰∏ΩÁªΩÊîæÔºÅ",
            "‰∏ÄÂ≤Å‰∏ÄÁ§º\n‰∏ÄÂØ∏Ê¨¢ÂñúÔºÅ\nÁ•ùÊ∏ÖËç∑ÂÆùË¥ùÁîüÊó•Âø´‰πêÔºÅ",
            "Ê∏ÖËç∑ÂÆùÂÆù\nÂë®Â≤ÅÂø´‰πêÔºÅ\nÊÑøÂ•πÁöÑÁ¨ëÂÆπÊ∞∏ËøúÂ¶Ç‰ªäÂ§©Ëà¨ÁÅøÁÉÇÔºÅ",
            "ÊÅ≠ÂñúÊ∏ÖËç∑\nÂÆùÂÆù‰∏ÄÂë®Â≤ÅÔºÅ\nÊÑøÂ•πÂπ≥ÂÆâÂÅ•Â∫∑ÔºåËåÅÂ£ÆÊàêÈïøÔºÅ",
            "Âë®Â≤ÅÂ∫ÜÂÖ∏\nÊ¨¢‰πêÊó†ÈôêÔºÅ\nÊÑüË∞¢ÊÇ®Êù•Èô™‰º¥Ê∏ÖËç∑ÂÆùÂÆùÔºÅ",
            "Â∞èÂÖ¨‰∏ª\nÂë®Â≤ÅÂø´‰πêÔºÅ\nÊÑøÊ∏ÖËç∑ÂÆùÂÆù‰∏ÄÁîüÂπ∏Á¶èÂÆâÂ∫∑ÔºÅ",
            "‰∏ÄÂ≤ÅÁöÑÂ∞è\nÂ§©‰ΩøÔºå\nÁ•ù‰Ω†Êú™Êù•ÂÖÖÊª°Èò≥ÂÖâ‰∏éÊ¨¢Á¨ëÔºÅ",
            "Ê∏ÖËç∑ÂÆùÂÆù\nÂë®Â≤ÅÂø´‰πêÔºÅ\nÊÑø‰Ω†ÁöÑÊØè‰∏ÄÂ§©ÈÉΩÂÖÖÊª°ÊÉäÂñúÔºÅ",
            "Âë®Âπ¥ÊàêÈïø\nÁ∫™ÂøµÔºå\nÁ•ùÊ∏ÖËç∑ÂÆùË¥ùË∂äÊù•Ë∂äÂèØÁà±ÔºÅ",
            "Âë®Â≤ÅÂø´‰πêÔºÅ\nÊÑøÊ∏ÖËç∑ÂÆùÂÆùÁöÑÁ´•Âπ¥ÂÖÖÊª°Áà±‰∏éÊ∏©ÊöñÔºÅ",
            "Â∞èÂÆùË¥ù\nÂë®Â≤ÅÂø´‰πêÔºÅ\nÊÑø‰Ω†ÁöÑÊú™Êù•Â¶ÇËç∑Ëä±Ëà¨Á∫ØÊ¥ÅÁæéÂ•ΩÔºÅ"
        ];

        // ======================
        // Èü≥È¢ëÊéßÂà∂ÂáΩÊï∞
        // ======================
        function playMusic() {
            if (audio) {
                audio.play().then(() => {
                    isPlaying = true;
                    document.getElementById('music-icon').textContent = 'üîä';
                    document.getElementById('hint').classList.remove('show');
                }).catch(e => {
                    console.log('Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:', e);
                    isPlaying = false;
                    document.getElementById('music-icon').textContent = 'üîá';
                });
            }
        }

        function pauseMusic() {
            if (audio) {
                audio.pause();
                isPlaying = false;
                document.getElementById('music-icon').textContent = 'üîá';
            }
        }

        function toggleMusic() {
            if (!audio) return;
            if (isPlaying) {
                pauseMusic();
            } else {
                playMusic();
            }
        }

        // ======================
        // ËΩÆÊí≠ÊéßÂà∂ÂáΩÊï∞
        // ======================
        function showSlide(index) {
            if (!items || !dots) return;
            items.forEach(item => item.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            items[index].classList.add('active');
            dots[index].classList.add('active');
            currentSlideIndex = index;
            
            // Â¶ÇÊûúÊòØËßÜÈ¢ëÈ°πÔºåÊöÇÂÅúÂÖ∂‰ªñËßÜÈ¢ëÔºåÊí≠ÊîæÂΩìÂâçËßÜÈ¢ë
            if (items[index].dataset.type === 'video') {
                const video = items[index].querySelector('.slide-video');
                if (video) {
                    // Á°Æ‰øùËßÜÈ¢ëÂ§Ñ‰∫éÈùôÈü≥Ëá™Âä®Êí≠ÊîæÁä∂ÊÄÅ
                    video.muted = true;
                    video.play().catch(e => console.log('ËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•:', e));
                }
            } else {
                // Â¶ÇÊûúÂàáÊç¢Âà∞ÈùûËßÜÈ¢ëÈ°πÔºåÊöÇÂÅúÂΩìÂâçËßÜÈ¢ë
                const activeVideo = document.querySelector('.carousel-item.active .slide-video');
                if (activeVideo) {
                    activeVideo.pause();
                }
            }
        }

        function nextSlide() {
            if (!items) return;
            const newIndex = (currentSlideIndex + 1) % items.length;
            showSlide(newIndex);
        }

        function prevSlide() {
            if (!items) return;
            const newIndex = (currentSlideIndex - 1 + items.length) % items.length;
            showSlide(newIndex);
        }

        function currentSlide(index) {
            showSlide(index);
            // ÂÅúÊ≠¢Ëá™Âä®ËΩÆÊí≠ÔºàÁî®Êà∑ÊâãÂä®Êìç‰ΩúÂêéÔºâ
            stopAutoPlay();
        }

        // ======================
        // ËßÜÈ¢ëÊéßÂà∂ÂáΩÊï∞
        // ======================
        function handleVideoClick(overlay) {
            // Ëé∑ÂèñËßÜÈ¢ëÂÖÉÁ¥†
            const video = overlay.previousElementSibling;
            if (!video) return;
            
            // ËÆæÁΩÆËßÜÈ¢ëÂ±ûÊÄß‰ª•Á¨¶ÂêàÊµèËßàÂô®Á≠ñÁï•
            video.muted = false;
            video.controls = true;
            video.playsInline = true;
            video.setAttribute('playsinline', '');
            video.setAttribute('webkit-playsinline', '');
            
            // Â∞ùËØïÊí≠ÊîæËßÜÈ¢ë
            video.play().then(() => {
                console.log('ËßÜÈ¢ëÊí≠ÊîæÊàêÂäü');
            }).catch(error => {
                console.log('ÂéüËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•:', error);
                // Â¶ÇÊûúÂéüËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•ÔºåÂ∞ùËØïÂÖ®Â±èÊí≠Êîæ
                openFullscreenVideo(video.src);
            });
        }

        function openFullscreenVideo(videoSrc) {
            const fullscreenContainer = document.getElementById('fullscreenContainer');
            const fullscreenVideo = document.getElementById('fullscreenVideo');
            
            // ËÆæÁΩÆÂÖ®Â±èËßÜÈ¢ëÊ∫ê
            fullscreenVideo.src = videoSrc;
            fullscreenVideo.muted = false;
            fullscreenVideo.controls = true;
            fullscreenVideo.playsInline = true;
            fullscreenVideo.setAttribute('playsinline', '');
            fullscreenVideo.setAttribute('webkit-playsinline', '');
            fullscreenVideo.setAttribute('x5-video-player-type', 'h5');
            fullscreenVideo.setAttribute('x5-video-player-fullscreen', 'true');
            
            // ÊòæÁ§∫ÂÖ®Â±èÂÆπÂô®
            fullscreenContainer.style.display = 'flex';
            
            // Áü≠ÊöÇÂª∂ËøüÂêéÂ∞ùËØïÊí≠Êîæ
            setTimeout(() => {
                fullscreenVideo.play().then(() => {
                    console.log('ÂÖ®Â±èËßÜÈ¢ëÊí≠ÊîæÊàêÂäü');
                }).catch(error => {
                    console.log('ÂÖ®Â±èËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•:', error);
                    // Âç≥‰ΩøÊí≠ÊîæÂ§±Ë¥•‰πüÊòæÁ§∫ËßÜÈ¢ëÊéß‰ª∂
                    fullscreenVideo.controls = true;
                    fullscreenContainer.style.display = 'flex';
                });
            }, 100);
        }

        function closeFullscreen() {
            const fullscreenContainer = document.getElementById('fullscreenContainer');
            const fullscreenVideo = document.getElementById('fullscreenVideo');
            
            // ÊöÇÂÅúÂπ∂ÈáçÁΩÆÂÖ®Â±èËßÜÈ¢ë
            fullscreenVideo.pause();
            fullscreenVideo.currentTime = 0;
            fullscreenVideo.src = '';
            
            // ÈöêËóèÂÖ®Â±èÂÆπÂô®
            fullscreenContainer.style.display = 'none';
            
            // ËøîÂõûÂà∞ËßÜÈ¢ëÊâÄÂú®ÁöÑËΩÆÊí≠È°π
            const videoSlideIndex = Array.from(items).findIndex(item => 
                item.querySelector('.slide-video')
            );
            if (videoSlideIndex !== -1) {
                showSlide(videoSlideIndex);
                // ÈáçÊñ∞ÊòæÁ§∫ËßÜÈ¢ëÂè†Âä†Â±Ç
                const overlay = items[videoSlideIndex].querySelector('.video-overlay');
                if (overlay) {
                    overlay.style.opacity = '1';
                    overlay.style.pointerEvents = 'auto';
                }
            }
        }

        // ======================
        // Ê∂àÊÅØÂíåÂàùÂßãÂåñ
        // ======================
        function generateNewMessage() {
            document.getElementById('random-message').textContent = getRandomMessage();
        }

        function getRandomMessage() {
            return messages[Math.floor(Math.random() * messages.length)];
        }

        function initPage() {
            audio = document.getElementById('audio-player');
            items = document.querySelectorAll('.carousel-item');
            dots = document.querySelectorAll('.nav-dot');
            
            // ÁªëÂÆöÈü≥‰πêÊéßÂà∂
            document.getElementById('music-control').addEventListener('click', toggleMusic);
            
            // ÂàùÂßãÂåñÊ∂àÊÅØ
            generateNewMessage();
            
            // ÊòæÁ§∫ÂàùÂßãÊèêÁ§∫
            setTimeout(() => {
                const hint = document.getElementById('hint');
                hint.textContent = 'ÁÇπÂáªÂè≥‰∏äËßíÈü≥Á¨¶ÂõæÊ†áÂºÄÂßãÊí≠ÊîæÈü≥‰πê';
                hint.classList.add('show');
                setTimeout(() => hint.classList.remove('show'), 3000);
            }, 2000);
            
            // ÂêØÂä®Ëá™Âä®ËΩÆÊí≠Ôºà10ÁßíÈó¥ÈöîÔºâ
            startAutoPlay(10000);
            
            // Á°Æ‰øùËßÜÈ¢ëÈ°πÂú®È°µÈù¢Âä†ËΩΩÊó∂Â∞±ÂºÄÂßãÊí≠Êîæ
            setTimeout(() => {
                const videoItem = document.querySelector('[data-type="video"]');
                if (videoItem) {
                    const video = videoItem.querySelector('.slide-video');
                    if (video) {
                        video.muted = true; // Á°Æ‰øùÈùôÈü≥
                        video.play().catch(e => console.log('ÂàùÂßãËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•:', e));
                    }
                }
            }, 1000);
        }

        function startAutoPlay(interval = 10000) {
            stopAutoPlay(); // ÂÖàÊ∏ÖÈô§‰πãÂâçÁöÑÂÆöÊó∂Âô®
            autoPlayInterval = setInterval(nextSlide, interval);
        }

        function stopAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                autoPlayInterval = null;
            }
        }

        // ======================
        // È°µÈù¢Âä†ËΩΩÂíå‰∫ã‰ª∂
        // ======================
        window.onload = function() {
            initPage();
        };

        // Èü≥È¢ëÁä∂ÊÄÅÁõëÂê¨
        document.addEventListener('DOMContentLoaded', function() {
            const audioPlayer = document.getElementById('audio-player');
            if (audioPlayer) {
                audioPlayer.addEventListener('play', () => {
                    isPlaying = true;
                    document.getElementById('music-icon').textContent = 'üîä';
                });
                
                audioPlayer.addEventListener('pause', () => {
                    isPlaying = false;
                    document.getElementById('music-icon').textContent = 'üîá';
                });
            }
        });
        
        // È°µÈù¢ÂèØËßÅÊÄßÂ§ÑÁêÜ
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && isPlaying) {
                audio?.pause();
            } else if (!document.hidden && isPlaying) {
                audio?.play();
            }
        });
        
        // ÈîÆÁõò‰∫ã‰ª∂
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeFullscreen();
            // ÊñπÂêëÈîÆÊéßÂà∂ËΩÆÊí≠
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
        });
        
        // ÁÇπÂáªËΩÆÊí≠Âå∫ÂüüÂ§ñÂÖ≥Èó≠ÂÖ®Â±è
        document.addEventListener('click', (e) => {
            const fullscreenContainer = document.getElementById('fullscreenContainer');
            if (fullscreenContainer.style.display === 'flex' && 
                !e.target.closest('.fullscreen-video-container')) {
                closeFullscreen();
            }
        });
        
        // Ëß¶Êë∏‰∫ã‰ª∂ÔºàÁßªÂä®Á´Ø‰ºòÂåñÔºâ
        document.addEventListener('touchend', (e) => {
            // Ê£ÄÊü•ÊòØÂê¶ÁÇπÂáª‰∫ÜËßÜÈ¢ëË¶ÜÁõñÂ±Ç
            if (e.target.classList.contains('video-overlay')) {
                handleVideoClick(e.target);
            }
        });
        
        // ÂÖ®Â±è‰∫ã‰ª∂ÁõëÂê¨
        document.addEventListener('fullscreenchange', handleFullscreenChange);
        document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
        
        function handleFullscreenChange() {
            const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement;
            if (!isFullscreen) {
                // Â¶ÇÊûúÈÄÄÂá∫ÂÖ®Â±èÔºåÊ£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÊÅ¢Â§çËΩÆÊí≠
                const videoSlideIndex = Array.from(items).findIndex(item => 
                    item.querySelector('.slide-video')
                );
                if (videoSlideIndex !== -1) {
                    // ÈáçÊñ∞ÊòæÁ§∫ËßÜÈ¢ëÂè†Âä†Â±Ç
                    const overlay = items[videoSlideIndex].querySelector('.video-overlay');
                    if (overlay) {
                        overlay.style.opacity = '1';
                        overlay.style.pointerEvents = 'auto';
                    }
                }
            }
        }
        
        // ÁßªÂä®Á´ØÁâπÊÆäÂ§ÑÁêÜ
        document.addEventListener('touchstart', function() {
            // ÁßªÂä®Á´ØÈ¶ñÊ¨°Ëß¶Êë∏ÂêéÂ∞ùËØïÊí≠ÊîæÈü≥È¢ëÔºàËß£ÂÜ≥Ëá™Âä®Êí≠ÊîæÈôêÂà∂Ôºâ
            if (audio && !isPlaying) {
                audio.play().catch(e => console.log('Ëß¶Êë∏Êí≠ÊîæÈü≥È¢ëÂ§±Ë¥•:', e));
            }
        });
    </script>
</body>
</html>


